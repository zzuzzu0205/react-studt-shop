_N_E=(window.webpackJsonp_N_E=window.webpackJsonp_N_E||[]).push([[26],{M6fp:function(t,e,a){"use strict";var n=a("yLiY"),c=a.n(n),o=a("q1tI"),i=a("Z8B4"),d=a("3fiu"),r=a("Em9b"),s=a("c+TM"),_=a("nvOH"),u=a("ULN6"),O=c()().publicRuntimeConfig.KAKAO_API_URL;e.a=function(){var t=Object(_.f)(),e=t.kakaotalkId,a=t.navertalkId,n=Object(s.f)(),c=n.siteId,f=n.categoryId,p=n.divisionId,E=n.params,I=n.kakaoId,b=n.naverId,l=Object(u.e)(),v=Object(s.e)(),w=Object(d.a)(),j=w.onClickSend,m=w.onDrop,y=Object(r.a)().onCloseWindow,N=Object(o.useCallback)((function(t){if("OPEN_CHAT_WINDOW"!==t.data.type)if("CLOSE_CHAT_WINDOW"!==t.data.type){if("LINK_TO_KAKAO"===t.data.type){var n="".concat(O,"/api/kakao/chat_open?yid=").concat(I||e,"&site_id=").concat(c,"&category_id=").concat(f,"&division_id=").concat(p).concat(Object(i.f)(E));return window.open(n,"_blank"),void Object(i.a)(n)}if("LINK_TO_NAVER"===t.data.type){var o="https://talk.naver.com/ct/".concat(b||a,"?from=site_id%7C").concat(c,"%7Ccategory_id%7C").concat(f,"%7Cdivision_id%7C").concat(p).concat(Object(i.h)(E));return window.open(o,"_blank"),void Object(i.a)(o)}"SET_PARAMS"===t.data.type&&v({type:"SET_PARAMS",payload:t.data.value}),"READY_CHAT_ROOM"===t.data.type&&l({type:"OPEN_CHAT_ROOM",payload:!0}),"SEND_TEXT_MESSAGE"===t.data.type&&j(t.data.value),"SEND_IMAGE_MESSAGE"===t.data.type&&m(t.data.value),"END_CHAT"===t.data.type&&y()}else l({type:"OPEN_CHAT_WINDOW",payload:!1});else l({type:"OPEN_CHAT_WINDOW",payload:!0})}),[l,I,e,c,f,p,E,b,a,v,j,m,y]);Object(o.useEffect)((function(){if(window.self!==window.top)return window.addEventListener("message",N),function(){window.removeEventListener("message",N)}}),[l,N])}},VMH5:function(t,e,a){"use strict";a.r(e),a.d(e,"__N_SSP",(function(){return l}));var n=a("q1tI"),c=a.n(n),o=a("YAmk"),i=a("jcLD"),d=a("nOHt"),r=a("DTFv"),s=a("M6fp"),_=a("6N+z"),u=a("nKX1"),O=a("QYDJ"),f=a("ULN6"),p=a("er4e"),E=a("aC+I"),I=a("S5L1"),b=c.a.createElement,l=!0;e.default=function(t){var e=t.siteId,a=t.siteName,l=t.categoryId,v=t.divisionId,w=t.partnerId,j=t.shopId,m=t.params,y=t.kakaoId,N=t.naverId,C=t.options,T=Object(f.e)(),S=Object(f.f)().priorityChatInfo,A=Object(O.f)().isLoadedConfigData,g=Object(d.useRouter)(),k=g.pathname,h=g.query,D=Object(d.useRouter)(),R=Object(I.a)().onMove,W=h.fullScreen||"";return Object(_.a)({siteId:e,siteName:a,categoryId:l,divisionId:v,partnerId:w,shopId:j,params:m,kakaoId:y,naverId:N}),Object(i.a)(),Object(r.a)(C),Object(s.a)(),Object(n.useEffect)((function(){window.self===window.top&&"/chatting"===k&&T({type:"DETECT_CURRENT_WINDOW",payload:!0})}),[T,k]),Object(n.useEffect)((function(){var t=p.a.getItem("".concat(E.a,"_").concat(e)),a=p.a.getItem("".concat(E.b,"_").concat(e));(t||a)&&T({type:"SET_SOCKET_CONNECT_READY",payload:!0})}),[T,e]),Object(n.useEffect)((function(){if(h["".concat(E.d)]&&h["".concat(E.e)]&&h["".concat(E.c)]&&!S.roomId){p.a.removeItem("".concat(E.a,"_").concat(e)),p.a.removeItem("".concat(E.b,"_").concat(e));var t=h["".concat(E.d)],a=h["".concat(E.e)],n=Number(h["".concat(E.c)]);T({type:"SET_PRIORITY_CHAT_INFO",payload:{roomId:t,userId:a,customerId:n}}),T({type:"SET_SOCKET_CONNECT_READY",payload:!0}),R("/chatting")}}),[T,R,S.roomId,D,h,e]),A?b(u.a,null,b(o.a,{fullScreen:W})):b(c.a.Fragment,null)}},YAmk:function(t,e,a){"use strict";var n=a("q1tI"),c=a.n(n),o=a("qKvR"),i=a("xitL"),d=a("4mV0"),r=a("Z8B4"),s=a("ULN6");c.a.createElement;e.a=function(t){var e=t.fullScreen,a=void 0===e?"":e,_=Object(s.f)().isCurrentChatWindow,u=Object(s.e)(),O=Object(n.useState)(0),f=O[0],p=O[1],E=Object(n.useState)(0),I=E[0],b=E[1],l=Object(n.useState)(""),v=l[0],w=l[1],j=function(t){if("WINDOW_SIZE"===t.data.type){var e=t.data.value,a=e.windowWidth,n=e.windowHeight;p(a),b(n)}};return Object(n.useEffect)((function(){return window.self===window.top&&(p(window.parent.innerWidth),b(window.parent.innerHeight)),window.addEventListener("message",j),Object(r.m)()||Object(r.o)()?w("mobile"):w("pc"),function(){window.removeEventListener("message",j)}}),[]),Object(n.useEffect)((function(){_&&u({type:"OPEN_CHAT_WINDOW",payload:!0})}),[u,_]),Object(o.jsx)(c.a.Fragment,null,Object(o.jsx)(i.a,{isLive:!0,totalWidth:f,totalHeight:I,device:v,fullScreen:a}),!_&&Object(o.jsx)(d.a,{device:v,isLive:!0}))}},mRKg:function(t,e,a){(window.__NEXT_P=window.__NEXT_P||[]).push(["/chatting",function(){return a("VMH5")}])}},[["mRKg",0,2,7,1,3,6,5,4,10,11,9,12,14,13]]]);